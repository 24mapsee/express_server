<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>MapSee API Test</title>
</head>
<body>
<h1>MapSee API Test Page</h1>

<h2>Geocode Test</h2>
<label for="address">Address:</label>
<input type="text" id="address" placeholder="Enter address">
<button onclick="getCoordinates()">Get Coordinates</button>
<p id="coordinatesResult"></p>

<h2>Find Route Test</h2>
<label for="startX">Start X (Longitude):</label>
<input type="text" id="startX" placeholder="Enter startX">
<label for="startY">Start Y (Latitude):</label>
<input type="text" id="startY" placeholder="Enter startY"><br>
<label for="endX">End X (Longitude):</label>
<input type="text" id="endX" placeholder="Enter endX">
<label for="endY">End Y (Latitude):</label>
<input type="text" id="endY" placeholder="Enter endY">
<button onclick="findRoute()">Find Route</button>
<p id="routeResult"></p>

<script>
function getCoordinates() {
    const address = document.getElementById('address').value;
    fetch(`/api/geocode?address=${encodeURIComponent(address)}`)
    .then(response => response.json())
    .then(data => {
        document.getElementById('coordinatesResult').textContent = JSON.stringify(data);
    })
    .catch(error => console.error('Error:', error));
}

function findRoute() {
    const startX = document.getElementById('startX').value;
    const startY = document.getElementById('startY').value;
    const endX = document.getElementById('endX').value;
    const endY = document.getElementById('endY').value;
    fetch(`/api/findRoute?startX=${startX}&startY=${startY}&endX=${endX}&endY=${endY}`)
    .then(response => response.json())
    .then(data => {
        document.getElementById('routeResult').textContent = JSON.stringify(data);
    })
    .catch(error => console.error('Error:', error));
}
</script>
</body>
</html>